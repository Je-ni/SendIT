{"version":3,"sources":["../../server/models/user.js"],"names":["database","require","pool","createTable","queryText","query","then","res","console","log","end","catch","err","dropTable","on","process","exit","module","exports"],"mappings":";;AAAA,IAAMA,WAAWC,QAAQ,oBAAR,CAAjB;;AAEA,IAAMC,OAAOF,UAAb;;AAEA;AACA,IAAMG,cAAc,SAAdA,WAAc,GAAM;AACxB,MAAMC,YAAY,uCACd,sBADc,GAEd,iCAFc,GAGd,gCAHc,GAId,yBAJc,GAKd,gCALc,GAMd,6BANc,GAOd,gCAPc,GAQd,2BARc,GASd,gCATc,GAUd,wBAVc,GAWd,0BAXJ;AAYA;AACA;AACAF,OAAKG,KAAL,CAAWD,SAAX,EACGE,IADH,CACQ,UAACC,GAAD,EAAS;AACbC,YAAQC,GAAR,CAAYF,GAAZ;AACAL,SAAKQ,GAAL;AACD,GAJH,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS;AACdJ,YAAQC,GAAR,CAAYG,GAAZ;AACAV,SAAKQ,GAAL;AACD,GARH;AASD,CAxBD;;AA0BA;AACA,IAAMG,YAAY,SAAZA,SAAY,GAAM;AACtB,MAAMT,YAAY,4BAAlB;AACAF,OAAKG,KAAL,CAAWD,SAAX,EACGE,IADH,CACQ,UAACC,GAAD,EAAS;AACbC,YAAQC,GAAR,CAAYF,GAAZ;AACAL,SAAKQ,GAAL;AACD,GAJH,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS;AACdJ,YAAQC,GAAR,CAAYG,GAAZ;AACAV,SAAKQ,GAAL;AACD,GARH;AASD,CAXD;;AAaAR,KAAKY,EAAL,CAAQ,QAAR,EAAkB,YAAM;AACtBN,UAAQC,GAAR,CAAY,gBAAZ;AACAM,UAAQC,IAAR,CAAa,CAAb;AACD,CAHD;;AAKAC,OAAOC,OAAP,GAAiB;AACff,0BADe;AAEfU;AAFe,CAAjB;;AAKA;AACAZ,QAAQ,eAAR","file":"user.js","sourcesContent":["const database = require('../config/database');\r\n\r\nconst pool = database();\r\n\r\n// create table item in database\r\nconst createTable = () => {\r\n  const queryText = 'CREATE TABLE IF NOT EXISTS users ('\r\n    + 'id UUID PRIMARY KEY,'\r\n    + 'firstname varchar(80) NOT NULL,'\r\n    + 'lastname varchar(80) NOT NULL,'\r\n    + 'othernames varchar(80),'\r\n    + 'password varchar(80) NOT NULL,'\r\n    + 'email varchar(80) NOT NULL,'\r\n    + 'username varchar(80) NOT NULL,'\r\n    + 'registered DATE NOT NULL,'\r\n    + 'isAdmin BOOLEAN DEFAULT false,'\r\n    + 'createdDate TIMESTAMP,'\r\n    + 'modifiedDate TIMESTAMP )';\r\n  // eslint-disable-next-line semi\r\n  // eslint-disable-next-line no-unused-expressions\r\n  pool.query(queryText)\r\n    .then((res) => {\r\n      console.log(res);\r\n      pool.end();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      pool.end();\r\n    });\r\n};\r\n\r\n// drop database table\r\nconst dropTable = () => {\r\n  const queryText = 'DROP TABLE IF EXISTS users';\r\n  pool.query(queryText)\r\n    .then((res) => {\r\n      console.log(res);\r\n      pool.end();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      pool.end();\r\n    });\r\n};\r\n\r\npool.on('remove', () => {\r\n  console.log('client removed');\r\n  process.exit(0);\r\n});\r\n\r\nmodule.exports = {\r\n  createTable,\r\n  dropTable\r\n};\r\n\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nrequire('make-runnable');\r\n"]}